{"ast":null,"code":"import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const fetchContacts = createAsyncThunk(\"contacts/fetch\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    return await getPhone();\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const addContact = createAsyncThunk(\"contacts/add\", async (data, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    return addPhone(data);\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n}, {\n  condition: (data, _ref3) => {\n    let {\n      getState\n    } = _ref3;\n    const {\n      contacts\n    } = getState();\n    const isInclude = contacts.items.find(el => el.name.toLowerCase() === data.name.toLowerCase());\n\n    if (isInclude) {\n      alert(`\"${isInclude.name}\" is already in your contacts`);\n      return false;\n    }\n  }\n});\nexport const removeContact = createAsyncThunk(\"contacts/remove\", async (data, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    return await deletePhone(data);\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n}); // axios.defaults.baseURL = \"https://637369250bb6b698b60b3203.mockapi.io\";\n// export const fetchContacts = createAsyncThunk(\"contact/fetchAll\", async (_, thunkAPI) => {\n//   try {\n//     const response = await axios.get(\"/contact\");\n//     return response.data;\n//   } catch (error) {\n//     return thunkAPI.rejectWithValue(error.message)\n//   }\n// });\n// export const deleteContact = createAsyncThunk(\"contact/deleteContact\", async (id, thunkAPI) => {\n//   try {\n//     const response = await axios.delete(`/contact/${id}`);\n//     return response.data;\n//   } catch (error) {\n//     return thunkAPI.rejectWithValue(error.message)\n//   }\n// });\n// export const addContact = createAsyncThunk(\"contact/addContact\", async (contactObj, thunkAPI) => {\n//   try {\n//     const response = await axios.post('/contact', contactObj);\n//     return response.data;\n//   } catch (error) {\n//     return thunkAPI.rejectWithValue(error.message)\n//   }\n// });","map":{"version":3,"sources":["/Users/antonlyzun/Desktop/GoIT/goit-react-hw-07-phonebook/src/redux/operations.js"],"names":["axios","createAsyncThunk","fetchContacts","data","rejectWithValue","getPhone","error","addContact","addPhone","condition","getState","contacts","isInclude","items","find","el","name","toLowerCase","alert","removeContact","deletePhone"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AAEA,OAAO,MAAMC,aAAa,GAAGD,gBAAgB,CAC3C,gBAD2C,EAE3C,OAAOE,IAAP,WAAqC;AAAA,MAAxB;AAAEC,IAAAA;AAAF,GAAwB;;AACnC,MAAI;AACF,WAAO,MAAMC,QAAQ,EAArB;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACd,WAAOF,eAAe,CAACE,KAAD,CAAtB;AACD;AACF,CAR0C,CAAtC;AAWP,OAAO,MAAMC,UAAU,GAAGN,gBAAgB,CACxC,cADwC,EAExC,OAAOE,IAAP,YAAqC;AAAA,MAAxB;AAAEC,IAAAA;AAAF,GAAwB;;AACnC,MAAI;AACF,WAAOI,QAAQ,CAACL,IAAD,CAAf;AACD,GAFD,CAEE,OAAOG,KAAP,EAAc;AACd,WAAOF,eAAe,CAACE,KAAD,CAAtB;AACD;AACF,CARuC,EASxC;AACEG,EAAAA,SAAS,EAAE,CAACN,IAAD,YAAwB;AAAA,QAAjB;AAAEO,MAAAA;AAAF,KAAiB;AACjC,UAAM;AAAEC,MAAAA;AAAF,QAAeD,QAAQ,EAA7B;AACA,UAAME,SAAS,GAAGD,QAAQ,CAACE,KAAT,CAAeC,IAAf,CACfC,EAAD,IAAQA,EAAE,CAACC,IAAH,CAAQC,WAAR,OAA0Bd,IAAI,CAACa,IAAL,CAAUC,WAAV,EADlB,CAAlB;;AAGA,QAAIL,SAAJ,EAAe;AACbM,MAAAA,KAAK,CAAE,IAAGN,SAAS,CAACI,IAAK,+BAApB,CAAL;AACA,aAAO,KAAP;AACD;AACF;AAVH,CATwC,CAAnC;AAuBP,OAAO,MAAMG,aAAa,GAAGlB,gBAAgB,CAC3C,iBAD2C,EAE3C,OAAOE,IAAP,YAAqC;AAAA,MAAxB;AAAEC,IAAAA;AAAF,GAAwB;;AACnC,MAAI;AACF,WAAO,MAAMgB,WAAW,CAACjB,IAAD,CAAxB;AACD,GAFD,CAEE,OAAOG,KAAP,EAAc;AACd,WAAOF,eAAe,CAACE,KAAD,CAAtB;AACD;AACF,CAR0C,CAAtC,C,CAWP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const fetchContacts = createAsyncThunk(\n  \"contacts/fetch\",\n  async (data, { rejectWithValue }) => {\n    try {\n      return await getPhone();\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nexport const addContact = createAsyncThunk(\n  \"contacts/add\",\n  async (data, { rejectWithValue }) => {\n    try {\n      return addPhone(data);\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  },\n  {\n    condition: (data, { getState }) => {\n      const { contacts } = getState();\n      const isInclude = contacts.items.find(\n        (el) => el.name.toLowerCase() === data.name.toLowerCase()\n      );\n      if (isInclude) {\n        alert(`\"${isInclude.name}\" is already in your contacts`);\n        return false;\n      }\n    },\n  }\n);\n\nexport const removeContact = createAsyncThunk(\n  \"contacts/remove\",\n  async (data, { rejectWithValue }) => {\n    try {\n      return await deletePhone(data);\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\n// axios.defaults.baseURL = \"https://637369250bb6b698b60b3203.mockapi.io\";\n\n// export const fetchContacts = createAsyncThunk(\"contact/fetchAll\", async (_, thunkAPI) => {\n//   try {\n//     const response = await axios.get(\"/contact\");\n//     return response.data;\n//   } catch (error) {\n//     return thunkAPI.rejectWithValue(error.message)\n//   }\n// });\n\n// export const deleteContact = createAsyncThunk(\"contact/deleteContact\", async (id, thunkAPI) => {\n//   try {\n//     const response = await axios.delete(`/contact/${id}`);\n//     return response.data;\n//   } catch (error) {\n//     return thunkAPI.rejectWithValue(error.message)\n//   }\n// });\n\n// export const addContact = createAsyncThunk(\"contact/addContact\", async (contactObj, thunkAPI) => {\n//   try {\n//     const response = await axios.post('/contact', contactObj);\n//     return response.data;\n//   } catch (error) {\n//     return thunkAPI.rejectWithValue(error.message)\n//   }\n// });"]},"metadata":{},"sourceType":"module"}