{"ast":null,"code":"var _jsxFileName = \"/Users/antonlyzun/Desktop/GoIT/goit-react-hw-08-phonebook/src/modules/PhoneBook/PhoneBook.jsx\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from \"react-redux\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { MagnifyingGlass } from 'react-loader-spinner';\nimport { fetchContacts, removeContact, addContact } from \"../../redux/contacts/contacts-operations\";\nimport { getContacts } from \"../../redux/contacts/contacts-selector\";\nimport { useDispatch } from \"react-redux\";\nimport Contacts from \"./Contacts\";\nimport ContactForm from \"./ContactForm\";\nimport Filter from \"./Filter\";\nimport s from \"./PhoneBook.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PhoneBook = () => {\n  _s();\n\n  const [filter, setFilter] = useState(\"\");\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const dispatch = useDispatch();\n  const contactsStore = useSelector(getContacts);\n  const {\n    items,\n    error,\n    loading\n  } = contactsStore;\n\n  const getVisibleContacts = () => {\n    if (!filter) {\n      return items;\n    }\n\n    const newItems = items.filter(e => {\n      const {\n        name\n      } = e;\n      return name.toLowerCase().includes(filter.toLowerCase());\n    });\n    return newItems;\n  };\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n  const onAdd = useCallback(el => dispatch(addContact(el)), [dispatch]);\n  const onRemove = useCallback(id => {\n    dispatch(removeContact(id));\n  }, [dispatch]);\n  const changeFilter = useCallback(_ref => {\n    let {\n      target: {\n        value\n      }\n    } = _ref;\n    return setFilter(value.trim());\n  }, [setFilter]);\n  const visibleContacts = getVisibleContacts();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.wrapper,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"title\",\n            children: \"Phonebook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"title\",\n              children: \"Contacts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(ContactForm, {\n              onSubmit: onAdd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Filter, {\n            onChange: changeFilter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: `Error: ${error}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), items.length > 0 && !error && !loading && /*#__PURE__*/_jsxDEV(Contacts, {\n            items: visibleContacts,\n            onClick: onRemove\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), loading && /*#__PURE__*/_jsxDEV(MagnifyingGlass, {\n      visible: true,\n      height: \"80\",\n      width: \"80\",\n      ariaLabel: \"MagnifyingGlass-loading\",\n      wrapperStyle: {},\n      wrapperClass: \"MagnifyingGlass-wrapper\",\n      glassColor: \"#c0efff\",\n      color: \"#e15b64\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(PhoneBook, \"ZVV83R+v9YwekXYPMic5KeFMgys=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = PhoneBook;\nexport default PhoneBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhoneBook\");","map":{"version":3,"sources":["/Users/antonlyzun/Desktop/GoIT/goit-react-hw-08-phonebook/src/modules/PhoneBook/PhoneBook.jsx"],"names":["useSelector","useCallback","useEffect","useState","MagnifyingGlass","fetchContacts","removeContact","addContact","getContacts","useDispatch","Contacts","ContactForm","Filter","s","PhoneBook","filter","setFilter","name","setName","number","setNumber","dispatch","contactsStore","items","error","loading","getVisibleContacts","newItems","e","toLowerCase","includes","onAdd","el","onRemove","id","changeFilter","target","value","trim","visibleContacts","wrapper","length"],"mappings":"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","sourcesContent":["import { useSelector } from \"react-redux\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { MagnifyingGlass } from  'react-loader-spinner'\n\nimport {\n  fetchContacts,\n  removeContact,\n  addContact,\n} from \"../../redux/contacts/contacts-operations\";\nimport { getContacts } from \"../../redux/contacts/contacts-selector\";\nimport { useDispatch } from \"react-redux\";\n\nimport Contacts from \"./Contacts\";\nimport ContactForm from \"./ContactForm\";\nimport Filter from \"./Filter\";\n\nimport s from \"./PhoneBook.module.css\";\n\nconst PhoneBook = () => {\n\n  const [filter, setFilter] = useState(\"\");\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const dispatch = useDispatch();\n\n  const contactsStore = useSelector(getContacts);\n  const { items, error, loading } = contactsStore;\n  \n  const getVisibleContacts = () => {\n    if (!filter) {\n      return items;\n    }\n    const newItems = items.filter((e) => {\n      const { name } = e;\n      return name.toLowerCase().includes(filter.toLowerCase());\n    });\n    return newItems;\n  };\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  const onAdd = useCallback(\n    (el) => dispatch(addContact(el)),\n    [dispatch]\n  );\n  const onRemove = useCallback(\n    (id) => {\n      dispatch(removeContact(id));\n    },\n    [dispatch]\n  );\n\n  const changeFilter = useCallback(\n    ({ target: { value } }) => setFilter(value.trim()),\n    [setFilter]\n  );\n\n  const visibleContacts = getVisibleContacts();\n\n  return (\n    <>\n    <div className=\"container\">\n      <div className={s.wrapper}>\n        <div>\n          <h1 className=\"title\">Phonebook</h1>\n          <div>\n          <h2 className=\"title\">Contacts</h2>\n          <ContactForm onSubmit={onAdd} />\n        </div>\n          <Filter onChange={changeFilter} />\n\n\n          {error && <p>{`Error: ${error}`}</p>}\n          {items.length > 0 && !error && !loading && (\n          <Contacts items={visibleContacts} onClick={onRemove} />\n          )}\n        </div>\n\n        \n      </div>\n      \n    </div>\n    {loading && <MagnifyingGlass\n  visible={true}\n  height=\"80\"\n  width=\"80\"\n  ariaLabel=\"MagnifyingGlass-loading\"\n  wrapperStyle={{}}\n  wrapperClass=\"MagnifyingGlass-wrapper\"\n  glassColor = '#c0efff'\n  color = '#e15b64'\n  />\n  }\n  </>\n  );\n};\n\nexport default PhoneBook;\n"]},"metadata":{},"sourceType":"module"}